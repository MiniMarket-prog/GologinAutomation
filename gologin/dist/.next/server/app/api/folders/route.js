"use strict";(()=>{var e={};e.id=408,e.ids=[408],e.modules={72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},68621:e=>{e.exports=require("punycode")},76162:e=>{e.exports=require("stream")},17360:e=>{e.exports=require("url")},71568:e=>{e.exports=require("zlib")},1179:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>x,patchFetch:()=>h,requestAsyncStorage:()=>m,routeModule:()=>p,serverHooks:()=>g,staticGenerationAsyncStorage:()=>f});var o={};t.r(o),t.d(o,{GET:()=>d});var s=t(49303),a=t(88716),n=t(60670),i=t(87070),l=t(19692),u=t(46569),c=t(83098);async function d(){try{if(await (0,u.GJ)()){let e=new c.X2(process.env.GOLOGIN_API_KEY),r=(await e.getFolders()).map(e=>e.name).filter(Boolean).sort();return i.NextResponse.json({folders:r})}let e=await (0,l.t)(),{data:r,error:t}=await e.from("gologin_profiles").select("folder_name").not("folder_name","is",null);if(t)throw t;let o=Array.from(new Set(r.map(e=>e.folder_name).filter(Boolean)));return i.NextResponse.json({folders:o.sort()})}catch(e){return console.error("[v0] Error fetching folders:",e),i.NextResponse.json({error:e.message},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/folders/route",pathname:"/api/folders",filename:"route",bundlePath:"app/api/folders/route"},resolvedPagePath:"C:\\Users\\HP\\Documents\\GitHub\\GologinAutomation\\gologin\\app\\api\\folders\\route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:m,staticGenerationAsyncStorage:f,serverHooks:g}=p,x="/api/folders/route";function h(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:f})}},19692:(e,r,t)=>{t.d(r,{t:()=>a});var o=t(67721),s=t(71615);async function a(){let e=await (0,s.cookies)();return(0,o.createServerClient)("https://umhdnhckxgqywxgpybgo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVtaGRuaGNreGdxeXd4Z3B5YmdvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk0MDA1NzYsImV4cCI6MjA3NDk3NjU3Nn0.sodO3ZUaTWDxBBZitsrc_j3SUmVWBNlAsQoDAdzs8mI",{cookies:{getAll:()=>e.getAll(),setAll(r){try{r.forEach(({name:r,value:t,options:o})=>e.set(r,t,o))}catch{}}}})}},46569:(e,r,t)=>{t.d(r,{GJ:()=>a,kF:()=>n,ts:()=>s});var o=t(19692);async function s(){let e=await (0,o.t)(),{data:{user:r}}=await e.auth.getUser();return r}async function a(){let e=await (0,o.t)(),r=await s();if(!r)return!1;console.log("[v0] Checking admin status for user:",r.email);let{data:t,error:a}=await e.from("users").select("role").eq("email",r.email).single();if(console.log("[v0] User data from database:",t),console.log("[v0] Query error:",a),a||!t)return console.log("[v0] No user data found or error occurred"),!1;let n="admin"===t.role;return console.log("[v0] Is admin:",n),n}async function n(){if(!await a())throw Error("Unauthorized: Admin access required")}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[8948,4526,9702,5972,3098],()=>t(1179));module.exports=o})();