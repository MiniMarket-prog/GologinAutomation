(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[899],{8257:function(e,t,n){Promise.resolve().then(n.bind(n,1753))},1753:function(e,t,n){"use strict";n.d(t,{TestConnectionsClient:function(){return f}});var r=n(7437),s=n(2265),a=n(6070),i=n(2869),c=n(5974),o=n(9205);let l=(0,o.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var d=n(2934),u=n(9388),m=n(1817);let x=(0,o.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);function f(e){let{initialSupabaseStatus:t}=e,[n,o]=(0,s.useState)(t),[f,h]=(0,s.useState)({connected:!1,error:null,profileCount:0,endpoint:null}),[p,g]=(0,s.useState)(!1),j=async()=>{g(!0);try{let e=await fetch("/api/test/gologin"),t=await e.json();e.ok?h({connected:!0,error:null,profileCount:t.profileCount,endpoint:t.endpoint}):h({connected:!1,error:t.error||"Failed to connect",profileCount:0,endpoint:null})}catch(e){h({connected:!1,error:e instanceof Error?e.message:"Unknown error",profileCount:0,endpoint:null})}finally{g(!1)}},v=async()=>{g(!0);try{let e=await fetch("/api/test/supabase"),t=await e.json();e.ok?o({connected:!0,error:null,profileCount:t.profileCount,taskCount:t.taskCount}):o({connected:!1,error:t.error||"Failed to connect",profileCount:0,taskCount:0})}catch(e){o({connected:!1,error:e instanceof Error?e.message:"Unknown error",profileCount:0,taskCount:0})}finally{g(!1)}};return(0,r.jsxs)("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Connection Tests"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Test your Supabase database and GoLogin API connections to ensure everything is configured correctly."})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(l,{className:"h-5 w-5"}),(0,r.jsx)(a.ll,{children:"Supabase Database"})]}),n.connected?(0,r.jsxs)(c.C,{variant:"default",className:"bg-green-500",children:[(0,r.jsx)(d.Z,{className:"h-3 w-3 mr-1"}),"Connected"]}):(0,r.jsxs)(c.C,{variant:"destructive",children:[(0,r.jsx)(u.Z,{className:"h-3 w-3 mr-1"}),"Disconnected"]})]}),(0,r.jsx)(a.SZ,{children:"Database connection status"})]}),(0,r.jsxs)(a.aY,{className:"space-y-4",children:[n.connected?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Profiles in DB:"}),(0,r.jsx)("span",{className:"font-medium",children:n.profileCount})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Tasks in DB:"}),(0,r.jsx)("span",{className:"font-medium",children:n.taskCount})]}),(0,r.jsx)("div",{className:"pt-2",children:(0,r.jsx)("p",{className:"text-sm text-green-600",children:"Database is connected and working properly."})})]}):(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("p",{className:"text-sm text-destructive font-medium",children:"Connection Failed"}),n.error&&(0,r.jsx)("p",{className:"text-sm text-muted-foreground bg-destructive/10 p-3 rounded-md",children:n.error}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Make sure you have added the Supabase integration and run the SQL scripts."})]}),(0,r.jsx)(i.z,{onClick:v,disabled:p,className:"w-full bg-transparent",variant:"outline",children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):"Retest Connection"})]})]}),(0,r.jsxs)(a.Zb,{children:[(0,r.jsxs)(a.Ol,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(x,{className:"h-5 w-5"}),(0,r.jsx)(a.ll,{children:"GoLogin API"})]}),f.connected?(0,r.jsxs)(c.C,{variant:"default",className:"bg-green-500",children:[(0,r.jsx)(d.Z,{className:"h-3 w-3 mr-1"}),"Connected"]}):f.error?(0,r.jsxs)(c.C,{variant:"destructive",children:[(0,r.jsx)(u.Z,{className:"h-3 w-3 mr-1"}),"Failed"]}):(0,r.jsx)(c.C,{variant:"secondary",children:"Not Tested"})]}),(0,r.jsx)(a.SZ,{children:"GoLogin API connection status"})]}),(0,r.jsxs)(a.aY,{className:"space-y-4",children:[f.connected?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Profiles found:"}),(0,r.jsx)("span",{className:"font-medium",children:f.profileCount})]}),f.endpoint&&(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Endpoint:"}),(0,r.jsx)("span",{className:"font-mono text-xs",children:f.endpoint})]}),(0,r.jsx)("div",{className:"pt-2",children:(0,r.jsx)("p",{className:"text-sm text-green-600",children:"GoLogin API is connected and working properly."})})]}):f.error?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("p",{className:"text-sm text-destructive font-medium",children:"Connection Failed"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground bg-destructive/10 p-3 rounded-md",children:f.error}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Make sure you have added the GOLOGIN_API_KEY environment variable."})]}):(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Click the button below to test your GoLogin API connection."})}),(0,r.jsx)(i.z,{onClick:j,disabled:p,className:"w-full",children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):"Test GoLogin Connection"})]})]})]}),(0,r.jsxs)(a.Zb,{className:"mt-6",children:[(0,r.jsxs)(a.Ol,{children:[(0,r.jsx)(a.ll,{children:"Required Environment Variables"}),(0,r.jsx)(a.SZ,{children:"Make sure these are set in your .env.local file"})]}),(0,r.jsx)(a.aY,{children:(0,r.jsxs)("div",{className:"space-y-2 font-mono text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"NEXT_PUBLIC_SUPABASE_URL"}),(0,r.jsx)(d.Z,{className:"h-4 w-4 text-green-500"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"NEXT_PUBLIC_SUPABASE_ANON_KEY"}),(0,r.jsx)(d.Z,{className:"h-4 w-4 text-green-500"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"GOLOGIN_API_KEY"}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:"(server-side only)"})]})]})})]})]})}},5974:function(e,t,n){"use strict";n.d(t,{C:function(){return c}});var r=n(7437);n(2265);var s=n(535),a=n(4508);let i=(0,s.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:n,...s}=e;return(0,r.jsx)("div",{className:(0,a.cn)(i({variant:n}),t),...s})}},2869:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(7437),s=n(2265),a=n(7053),i=n(535),c=n(4508);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:n,variant:s,size:i,asChild:l=!1,...d}=e,u=l?a.g7:"button";return(0,r.jsx)(u,{className:(0,c.cn)(o({variant:s,size:i,className:n})),ref:t,...d})});l.displayName="Button"},6070:function(e,t,n){"use strict";n.d(t,{Ol:function(){return c},SZ:function(){return l},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var r=n(7437),s=n(2265),a=n(4508);let i=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",n),...s})});i.displayName="Card";let c=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",n),...s})});c.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",n),...s})});o.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",n),...s})});l.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",n),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:n,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",n),...s})}).displayName="CardFooter"},4508:function(e,t,n){"use strict";n.d(t,{cn:function(){return a}});var r=n(1994),s=n(3335);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.m6)((0,r.W)(t))}},9205:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2265);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:s=24,strokeWidth:c=2,absoluteStrokeWidth:o,className:l="",children:d,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:n,strokeWidth:o?24*Number(c)/Number(s):c,className:a("lucide",l),...m},[...u.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let n=(0,r.forwardRef)((n,i)=>{let{className:o,...l}=n;return(0,r.createElement)(c,{ref:i,iconNode:t,className:a("lucide-".concat(s(e)),o),...l})});return n.displayName="".concat(e),n}},2934:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(9205).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},9388:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(9205).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},1817:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},function(e){e.O(0,[569,971,117,744],function(){return e(e.s=8257)}),_N_E=e.O()}]);