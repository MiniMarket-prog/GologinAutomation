(()=>{var e={};e.id=2294,e.ids=[2294],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},47261:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>s.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>d}),t(294),t(95124),t(11506),t(35866);var n=t(23191),a=t(88716),o=t(37922),s=t.n(o),l=t(95231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(r,i);let d=["",{children:["dashboard",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,294)),"D:\\appProject\\GologinAutomation\\gologin\\app\\dashboard\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,95124)),"D:\\appProject\\GologinAutomation\\gologin\\app\\dashboard\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"D:\\appProject\\GologinAutomation\\gologin\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\appProject\\GologinAutomation\\gologin\\app\\dashboard\\admin\\page.tsx"],u="/dashboard/admin/page",p={require:t,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/admin/page",pathname:"/dashboard/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},23776:(e,r,t)=>{Promise.resolve().then(t.bind(t,65330))},65330:(e,r,t)=>{"use strict";t.d(r,{UserManagementTable:()=>eu});var n=t(10326),a=t(17577),o=t(90772),s=t(15940),l=t(567),i=t(60097);let d=(0,t(62881).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var c=t(15919),u=t(65983),p=t(98091),f=t(62288),h=t(54432),m=t(31048),x=t(34474);function w({open:e,onOpenChange:r,onSuccess:t}){let[s,l]=(0,a.useState)(!1),[i,d]=(0,a.useState)({email:"",password:"",role:"user"}),c=async e=>{e.preventDefault(),l(!0);try{let e=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!e.ok){let r=await e.json();throw Error(r.error||"Failed to create user")}t(),r(!1),d({email:"",password:"",role:"user"})}catch(e){console.error("[v0] Error creating user:",e),alert(`Failed to create user: ${e instanceof Error?e.message:"Unknown error"}`)}finally{l(!1)}};return n.jsx(f.Vq,{open:e,onOpenChange:r,children:(0,n.jsxs)(f.cZ,{children:[(0,n.jsxs)(f.fK,{children:[n.jsx(f.$N,{children:"Create New User"}),n.jsx(f.Be,{children:"Add a new user to the system"})]}),(0,n.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(m._,{htmlFor:"email",children:"Email"}),n.jsx(h.I,{id:"email",type:"email",value:i.email,onChange:e=>d({...i,email:e.target.value}),required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(m._,{htmlFor:"password",children:"Password"}),n.jsx(h.I,{id:"password",type:"password",value:i.password,onChange:e=>d({...i,password:e.target.value}),required:!0,minLength:6})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(m._,{htmlFor:"role",children:"Role"}),(0,n.jsxs)(x.Ph,{value:i.role,onValueChange:e=>d({...i,role:e}),children:[n.jsx(x.i4,{children:n.jsx(x.ki,{})}),(0,n.jsxs)(x.Bw,{children:[n.jsx(x.Ql,{value:"user",children:"User"}),n.jsx(x.Ql,{value:"admin",children:"Admin"})]})]})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-2",children:[n.jsx(o.z,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(o.z,{type:"submit",disabled:s,children:s?"Creating...":"Create User"})]})]})]})})}var v=t(68762),g=t(45226),b=t(9815),y=t(93095),j=t(48051),N=t(55049),S=t(17124),C=t(65819),E=t(37125),R=t(82561),P="ScrollArea",[k,_]=(0,y.b)(P),[T,D]=k(P),A=a.forwardRef((e,r)=>{let{__scopeScrollArea:t,type:o="hover",dir:s,scrollHideDelay:l=600,...i}=e,[d,c]=a.useState(null),[u,p]=a.useState(null),[f,h]=a.useState(null),[m,x]=a.useState(null),[w,v]=a.useState(null),[b,y]=a.useState(0),[N,C]=a.useState(0),[E,R]=a.useState(!1),[P,k]=a.useState(!1),_=(0,j.e)(r,e=>c(e)),D=(0,S.gm)(s);return(0,n.jsx)(T,{scope:t,type:o,dir:D,scrollHideDelay:l,scrollArea:d,viewport:u,onViewportChange:p,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:E,onScrollbarXEnabledChange:R,scrollbarY:w,onScrollbarYChange:v,scrollbarYEnabled:P,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:C,children:(0,n.jsx)(g.WV.div,{dir:D,...i,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});A.displayName=P;var L="ScrollAreaViewport",z=a.forwardRef((e,r)=>{let{__scopeScrollArea:t,children:o,nonce:s,...l}=e,i=D(L,t),d=a.useRef(null),c=(0,j.e)(r,d,i.onViewportChange);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),(0,n.jsx)(g.WV.div,{"data-radix-scroll-area-viewport":"",...l,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,n.jsx)("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});z.displayName=L;var W="ScrollAreaScrollbar",U=a.forwardRef((e,r)=>{let{forceMount:t,...o}=e,s=D(W,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:i}=s,d="horizontal"===e.orientation;return a.useEffect(()=>(d?l(!0):i(!0),()=>{d?l(!1):i(!1)}),[d,l,i]),"hover"===s.type?(0,n.jsx)(F,{...o,ref:r,forceMount:t}):"scroll"===s.type?(0,n.jsx)(O,{...o,ref:r,forceMount:t}):"auto"===s.type?(0,n.jsx)(q,{...o,ref:r,forceMount:t}):"always"===s.type?(0,n.jsx)(M,{...o,ref:r}):null});U.displayName=W;var F=a.forwardRef((e,r)=>{let{forceMount:t,...o}=e,s=D(W,e.__scopeScrollArea),[l,i]=a.useState(!1);return a.useEffect(()=>{let e=s.scrollArea,r=0;if(e){let t=()=>{window.clearTimeout(r),i(!0)},n=()=>{r=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return e.addEventListener("pointerenter",t),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(r),e.removeEventListener("pointerenter",t),e.removeEventListener("pointerleave",n)}}},[s.scrollArea,s.scrollHideDelay]),(0,n.jsx)(b.z,{present:t||l,children:(0,n.jsx)(q,{"data-state":l?"visible":"hidden",...o,ref:r})})}),O=a.forwardRef((e,r)=>{var t,o;let{forceMount:s,...l}=e,i=D(W,e.__scopeScrollArea),d="horizontal"===e.orientation,c=eo(()=>p("SCROLL_END"),100),[u,p]=(t="hidden",o={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},a.useReducer((e,r)=>o[e][r]??e,t));return a.useEffect(()=>{if("idle"===u){let e=window.setTimeout(()=>p("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(e)}},[u,i.scrollHideDelay,p]),a.useEffect(()=>{let e=i.viewport,r=d?"scrollLeft":"scrollTop";if(e){let t=e[r],n=()=>{let n=e[r];t!==n&&(p("SCROLL"),c()),t=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}},[i.viewport,d,p,c]),(0,n.jsx)(b.z,{present:s||"hidden"!==u,children:(0,n.jsx)(M,{"data-state":"hidden"===u?"hidden":"visible",...l,ref:r,onPointerEnter:(0,R.M)(e.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:(0,R.M)(e.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),q=a.forwardRef((e,r)=>{let t=D(W,e.__scopeScrollArea),{forceMount:o,...s}=e,[l,i]=a.useState(!1),d="horizontal"===e.orientation,c=eo(()=>{if(t.viewport){let e=t.viewport.offsetWidth<t.viewport.scrollWidth,r=t.viewport.offsetHeight<t.viewport.scrollHeight;i(d?e:r)}},10);return es(t.viewport,c),es(t.content,c),(0,n.jsx)(b.z,{present:o||l,children:(0,n.jsx)(M,{"data-state":l?"visible":"hidden",...s,ref:r})})}),M=a.forwardRef((e,r)=>{let{orientation:t="vertical",...o}=e,s=D(W,e.__scopeScrollArea),l=a.useRef(null),i=a.useRef(0),[d,c]=a.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ee(d.viewport,d.content),p={...o,sizes:d,onSizesChange:c,hasThumb:!!(u>0&&u<1),onThumbChange:e=>l.current=e,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:e=>i.current=e};function f(e,r){return function(e,r,t,n="ltr"){let a=er(t),o=r||a/2,s=t.scrollbar.paddingStart+o,l=t.scrollbar.size-t.scrollbar.paddingEnd-(a-o),i=t.content-t.viewport;return en([s,l],"ltr"===n?[0,i]:[-1*i,0])(e)}(e,i.current,d,r)}return"horizontal"===t?(0,n.jsx)(I,{...p,ref:r,onThumbPositionChange:()=>{if(s.viewport&&l.current){let e=et(s.viewport.scrollLeft,d,s.dir);l.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{s.viewport&&(s.viewport.scrollLeft=e)},onDragScroll:e=>{s.viewport&&(s.viewport.scrollLeft=f(e,s.dir))}}):"vertical"===t?(0,n.jsx)(V,{...p,ref:r,onThumbPositionChange:()=>{if(s.viewport&&l.current){let e=et(s.viewport.scrollTop,d);l.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{s.viewport&&(s.viewport.scrollTop=e)},onDragScroll:e=>{s.viewport&&(s.viewport.scrollTop=f(e))}}):null}),I=a.forwardRef((e,r)=>{let{sizes:t,onSizesChange:o,...s}=e,l=D(W,e.__scopeScrollArea),[i,d]=a.useState(),c=a.useRef(null),u=(0,j.e)(r,c,l.onScrollbarXChange);return a.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),(0,n.jsx)(Z,{"data-orientation":"horizontal",...s,ref:u,sizes:t,style:{bottom:0,left:"rtl"===l.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===l.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":er(t)+"px",...e.style},onThumbPointerDown:r=>e.onThumbPointerDown(r.x),onDragScroll:r=>e.onDragScroll(r.x),onWheelScroll:(r,t)=>{if(l.viewport){let n=l.viewport.scrollLeft+r.deltaX;e.onWheelScroll(n),function(e,r){return e>0&&e<r}(n,t)&&r.preventDefault()}},onResize:()=>{c.current&&l.viewport&&i&&o({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Q(i.paddingLeft),paddingEnd:Q(i.paddingRight)}})}})}),V=a.forwardRef((e,r)=>{let{sizes:t,onSizesChange:o,...s}=e,l=D(W,e.__scopeScrollArea),[i,d]=a.useState(),c=a.useRef(null),u=(0,j.e)(r,c,l.onScrollbarYChange);return a.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),(0,n.jsx)(Z,{"data-orientation":"vertical",...s,ref:u,sizes:t,style:{top:0,right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":er(t)+"px",...e.style},onThumbPointerDown:r=>e.onThumbPointerDown(r.y),onDragScroll:r=>e.onDragScroll(r.y),onWheelScroll:(r,t)=>{if(l.viewport){let n=l.viewport.scrollTop+r.deltaY;e.onWheelScroll(n),function(e,r){return e>0&&e<r}(n,t)&&r.preventDefault()}},onResize:()=>{c.current&&l.viewport&&i&&o({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Q(i.paddingTop),paddingEnd:Q(i.paddingBottom)}})}})}),[X,H]=k(W),Z=a.forwardRef((e,r)=>{let{__scopeScrollArea:t,sizes:o,hasThumb:s,onThumbChange:l,onThumbPointerUp:i,onThumbPointerDown:d,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:p,onResize:f,...h}=e,m=D(W,t),[x,w]=a.useState(null),v=(0,j.e)(r,e=>w(e)),b=a.useRef(null),y=a.useRef(""),S=m.viewport,C=o.content-o.viewport,E=(0,N.W)(p),P=(0,N.W)(c),k=eo(f,10);function _(e){b.current&&u({x:e.clientX-b.current.left,y:e.clientY-b.current.top})}return a.useEffect(()=>{let e=e=>{let r=e.target;x?.contains(r)&&E(e,C)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[S,x,C,E]),a.useEffect(P,[o,P]),es(x,k),es(m.content,k),(0,n.jsx)(X,{scope:t,scrollbar:x,hasThumb:s,onThumbChange:(0,N.W)(l),onThumbPointerUp:(0,N.W)(i),onThumbPositionChange:P,onThumbPointerDown:(0,N.W)(d),children:(0,n.jsx)(g.WV.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:(0,R.M)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),b.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),_(e))}),onPointerMove:(0,R.M)(e.onPointerMove,_),onPointerUp:(0,R.M)(e.onPointerUp,e=>{let r=e.target;r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),Y="ScrollAreaThumb",G=a.forwardRef((e,r)=>{let{forceMount:t,...a}=e,o=H(Y,e.__scopeScrollArea);return(0,n.jsx)(b.z,{present:t||o.hasThumb,children:(0,n.jsx)(B,{ref:r,...a})})}),B=a.forwardRef((e,r)=>{let{__scopeScrollArea:t,style:o,...s}=e,l=D(Y,t),i=H(Y,t),{onThumbPositionChange:d}=i,c=(0,j.e)(r,e=>i.onThumbChange(e)),u=a.useRef(void 0),p=eo(()=>{u.current&&(u.current(),u.current=void 0)},100);return a.useEffect(()=>{let e=l.viewport;if(e){let r=()=>{if(p(),!u.current){let r=ea(e,d);u.current=r,d()}};return d(),e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}},[l.viewport,p,d]),(0,n.jsx)(g.WV.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:(0,R.M)(e.onPointerDownCapture,e=>{let r=e.target.getBoundingClientRect(),t=e.clientX-r.left,n=e.clientY-r.top;i.onThumbPointerDown({x:t,y:n})}),onPointerUp:(0,R.M)(e.onPointerUp,i.onThumbPointerUp)})});G.displayName=Y;var $="ScrollAreaCorner",J=a.forwardRef((e,r)=>{let t=D($,e.__scopeScrollArea),a=!!(t.scrollbarX&&t.scrollbarY);return"scroll"!==t.type&&a?(0,n.jsx)(K,{...e,ref:r}):null});J.displayName=$;var K=a.forwardRef((e,r)=>{let{__scopeScrollArea:t,...o}=e,s=D($,t),[l,i]=a.useState(0),[d,c]=a.useState(0),u=!!(l&&d);return es(s.scrollbarX,()=>{let e=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(e),c(e)}),es(s.scrollbarY,()=>{let e=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(e),i(e)}),u?(0,n.jsx)(g.WV.div,{...o,ref:r,style:{width:l,height:d,position:"absolute",right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:0,...e.style}}):null});function Q(e){return e?parseInt(e,10):0}function ee(e,r){let t=e/r;return isNaN(t)?0:t}function er(e){let r=ee(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-t)*r,18)}function et(e,r,t="ltr"){let n=er(r),a=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,o=r.scrollbar.size-a,s=r.content-r.viewport,l=(0,E.u)(e,"ltr"===t?[0,s]:[-1*s,0]);return en([0,s],[0,o-n])(l)}function en(e,r){return t=>{if(e[0]===e[1]||r[0]===r[1])return r[0];let n=(r[1]-r[0])/(e[1]-e[0]);return r[0]+n*(t-e[0])}}var ea=(e,r=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){let o={left:e.scrollLeft,top:e.scrollTop},s=t.left!==o.left,l=t.top!==o.top;(s||l)&&r(),t=o,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function eo(e,r){let t=(0,N.W)(e),n=a.useRef(0);return a.useEffect(()=>()=>window.clearTimeout(n.current),[]),a.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(t,r)},[t,r])}function es(e,r){let t=(0,N.W)(r);(0,C.b)(()=>{let r=0;if(e){let n=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return n.observe(e),()=>{window.cancelAnimationFrame(r),n.unobserve(e)}}},[e,t])}var el=t(77863);let ei=a.forwardRef(({className:e,children:r,...t},a)=>(0,n.jsxs)(A,{ref:a,className:(0,el.cn)("relative overflow-hidden",e),...t,children:[n.jsx(z,{className:"h-full w-full rounded-[inherit]",children:r}),n.jsx(ed,{}),n.jsx(J,{})]}));ei.displayName=A.displayName;let ed=a.forwardRef(({className:e,orientation:r="vertical",...t},a)=>n.jsx(U,{ref:a,orientation:r,className:(0,el.cn)("flex touch-none select-none transition-colors","vertical"===r?"h-full w-2.5 border-l border-l-transparent p-[1px]":"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:n.jsx(G,{className:"relative flex-1 rounded-full bg-border"})}));function ec({open:e,onOpenChange:r,user:t,onSuccess:s}){let[l,i]=(0,a.useState)(!1),[d,c]=(0,a.useState)([]),[u,p]=(0,a.useState)([]),h=e=>{p(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},x=async e=>{e.preventDefault(),i(!0);try{let e=await fetch("/api/admin/folder-assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t.id,folderNames:u})});if(!e.ok){let r=await e.json();throw Error(r.error||"Failed to update folder assignments")}s(),r(!1)}catch(e){console.error("[v0] Error updating folder assignments:",e),alert(`Failed to update folder assignments: ${e instanceof Error?e.message:"Unknown error"}`)}finally{i(!1)}};return n.jsx(f.Vq,{open:e,onOpenChange:r,children:(0,n.jsxs)(f.cZ,{className:"max-w-md",children:[(0,n.jsxs)(f.fK,{children:[n.jsx(f.$N,{children:"Manage Folder Access"}),(0,n.jsxs)(f.Be,{children:["Select which folders ",t.email," can access"]})]}),(0,n.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[n.jsx(ei,{className:"h-[300px] rounded-md border p-4",children:n.jsx("div",{className:"space-y-3",children:d.length>0?d.map(e=>(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx(v.X,{id:e,checked:u.includes(e),onCheckedChange:()=>h(e)}),(0,n.jsxs)(m._,{htmlFor:e,className:"cursor-pointer",children:["\uD83D\uDCC1 ",e]})]},e)):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No folders found"})})}),n.jsx("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:(0,n.jsxs)("span",{children:[u.length," folder(s) selected"]})}),(0,n.jsxs)("div",{className:"flex justify-end gap-2",children:[n.jsx(o.z,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(o.z,{type:"submit",disabled:l,children:l?"Saving...":"Save Changes"})]})]})]})})}function eu(){let[e,r]=(0,a.useState)([]),[t,f]=(0,a.useState)(!0),[h,m]=(0,a.useState)(null),[x,v]=(0,a.useState)(!1),[g,b]=(0,a.useState)(!1),y=async()=>{try{let e=await fetch("/api/admin/users");if(!e.ok)throw Error("Failed to fetch users");let t=await e.json();r(t.users)}catch(e){console.error("[v0] Error fetching users:",e)}finally{f(!1)}},j=async e=>{if(confirm("Are you sure you want to delete this user?"))try{if(!(await fetch(`/api/admin/users/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete user");y()}catch(e){console.error("[v0] Error deleting user:",e),alert("Failed to delete user")}},N=e=>{m(e),b(!0)};return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Users"}),(0,n.jsxs)(o.z,{onClick:()=>v(!0),children:[n.jsx(d,{className:"mr-2 h-4 w-4"}),"Create User"]})]}),n.jsx("div",{className:"rounded-md border",children:(0,n.jsxs)(s.iA,{children:[n.jsx(s.xD,{children:(0,n.jsxs)(s.SC,{children:[n.jsx(s.ss,{children:"Email"}),n.jsx(s.ss,{children:"Role"}),n.jsx(s.ss,{children:"Created At"}),n.jsx(s.ss,{className:"w-[80px]",children:"Actions"})]})}),n.jsx(s.RM,{children:t?n.jsx(s.SC,{children:n.jsx(s.pj,{colSpan:4,className:"text-center text-muted-foreground",children:"Loading users..."})}):e.length>0?e.map(e=>(0,n.jsxs)(s.SC,{children:[n.jsx(s.pj,{className:"font-medium",children:e.email}),n.jsx(s.pj,{children:n.jsx(l.C,{variant:"admin"===e.role?"default":"secondary",children:e.role})}),n.jsx(s.pj,{children:new Date(e.created_at).toLocaleDateString()}),n.jsx(s.pj,{children:(0,n.jsxs)(i.h_,{children:[n.jsx(i.$F,{asChild:!0,children:n.jsx(o.z,{variant:"ghost",size:"icon",children:n.jsx(c.Z,{className:"h-4 w-4"})})}),(0,n.jsxs)(i.AW,{align:"end",children:[(0,n.jsxs)(i.Xi,{onClick:()=>N(e),children:[n.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Manage Folders"]}),(0,n.jsxs)(i.Xi,{onClick:()=>j(e.id),className:"text-red-600",children:[n.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id)):n.jsx(s.SC,{children:n.jsx(s.pj,{colSpan:4,className:"text-center text-muted-foreground",children:"No users found"})})})]})}),n.jsx(w,{open:x,onOpenChange:v,onSuccess:y}),h&&n.jsx(ec,{open:g,onOpenChange:b,user:h,onSuccess:y})]})}ed.displayName=U.displayName},68762:(e,r,t)=>{"use strict";t.d(r,{X:()=>E});var n=t(10326),a=t(17577),o=t(48051),s=t(93095),l=t(82561),i=t(52067),d=t(53405),c=t(2566),u=t(9815),p=t(45226),f="Checkbox",[h,m]=(0,s.b)(f),[x,w]=h(f),v=a.forwardRef((e,r)=>{let{__scopeCheckbox:t,name:s,checked:d,defaultChecked:c,required:u,disabled:f,value:h="on",onCheckedChange:m,form:w,...v}=e,[g,b]=a.useState(null),S=(0,o.e)(r,e=>b(e)),C=a.useRef(!1),E=!g||w||!!g.closest("form"),[R=!1,P]=(0,i.T)({prop:d,defaultProp:c,onChange:m}),k=a.useRef(R);return a.useEffect(()=>{let e=g?.form;if(e){let r=()=>P(k.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[g,P]),(0,n.jsxs)(x,{scope:t,state:R,disabled:f,children:[(0,n.jsx)(p.WV.button,{type:"button",role:"checkbox","aria-checked":j(R)?"mixed":R,"aria-required":u,"data-state":N(R),"data-disabled":f?"":void 0,disabled:f,value:h,...v,ref:S,onKeyDown:(0,l.M)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,l.M)(e.onClick,e=>{P(e=>!!j(e)||!e),E&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),E&&(0,n.jsx)(y,{control:g,bubbles:!C.current,name:s,value:h,checked:R,required:u,disabled:f,form:w,style:{transform:"translateX(-100%)"},defaultChecked:!j(c)&&c})]})});v.displayName=f;var g="CheckboxIndicator",b=a.forwardRef((e,r)=>{let{__scopeCheckbox:t,forceMount:a,...o}=e,s=w(g,t);return(0,n.jsx)(u.z,{present:a||j(s.state)||!0===s.state,children:(0,n.jsx)(p.WV.span,{"data-state":N(s.state),"data-disabled":s.disabled?"":void 0,...o,ref:r,style:{pointerEvents:"none",...e.style}})})});b.displayName=g;var y=e=>{let{control:r,checked:t,bubbles:o=!0,defaultChecked:s,...l}=e,i=a.useRef(null),u=(0,d.D)(t),p=(0,c.t)(r);a.useEffect(()=>{let e=i.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(u!==t&&r){let n=new Event("click",{bubbles:o});e.indeterminate=j(t),r.call(e,!j(t)&&t),e.dispatchEvent(n)}},[u,t,o]);let f=a.useRef(!j(t)&&t);return(0,n.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??f.current,...l,tabIndex:-1,ref:i,style:{...e.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function j(e){return"indeterminate"===e}function N(e){return j(e)?"indeterminate":e?"checked":"unchecked"}var S=t(32933),C=t(77863);let E=a.forwardRef(({className:e,...r},t)=>n.jsx(v,{ref:t,className:(0,C.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:n.jsx(b,{className:(0,C.cn)("flex items-center justify-center text-current"),children:n.jsx(S.Z,{className:"h-4 w-4"})})}));E.displayName=v.displayName},60097:(e,r,t)=>{"use strict";t.d(r,{$F:()=>u,AW:()=>p,Xi:()=>f,h_:()=>c});var n=t(10326),a=t(17577),o=t(79313),s=t(39183),l=t(32933),i=t(53982),d=t(77863);let c=o.fC,u=o.xz;o.ZA,o.Uv,o.Tr,o.Ee,a.forwardRef(({className:e,inset:r,children:t,...a},l)=>(0,n.jsxs)(o.fF,{ref:l,className:(0,d.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",e),...a,children:[t,n.jsx(s.Z,{className:"ml-auto"})]})).displayName=o.fF.displayName,a.forwardRef(({className:e,...r},t)=>n.jsx(o.tu,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})).displayName=o.tu.displayName;let p=a.forwardRef(({className:e,sideOffset:r=4,...t},a)=>n.jsx(o.Uv,{children:n.jsx(o.VY,{ref:a,sideOffset:r,className:(0,d.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t})}));p.displayName=o.VY.displayName;let f=a.forwardRef(({className:e,inset:r,...t},a)=>n.jsx(o.ck,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",r&&"pl-8",e),...t}));f.displayName=o.ck.displayName,a.forwardRef(({className:e,children:r,checked:t,...a},s)=>(0,n.jsxs)(o.oC,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...a,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(o.wU,{children:n.jsx(l.Z,{className:"h-4 w-4"})})}),r]})).displayName=o.oC.displayName,a.forwardRef(({className:e,children:r,...t},a)=>(0,n.jsxs)(o.Rk,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(o.wU,{children:n.jsx(i.Z,{className:"h-2 w-2 fill-current"})})}),r]})).displayName=o.Rk.displayName,a.forwardRef(({className:e,inset:r,...t},a)=>n.jsx(o.__,{ref:a,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...t})).displayName=o.__.displayName,a.forwardRef(({className:e,...r},t)=>n.jsx(o.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...r})).displayName=o.Z0.displayName},34474:(e,r,t)=>{"use strict";t.d(r,{Bw:()=>p,Ph:()=>d,Ql:()=>f,i4:()=>u,ki:()=>c});var n=t(10326),a=t(17577),o=t(13869),s=t(941),l=t(32933),i=t(77863);let d=o.fC;o.ZA;let c=o.B4,u=a.forwardRef(({className:e,children:r,...t},a)=>(0,n.jsxs)(o.xz,{ref:a,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:[r,n.jsx(o.JO,{asChild:!0,children:n.jsx(s.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=o.xz.displayName;let p=a.forwardRef(({className:e,children:r,...t},a)=>n.jsx(o.h_,{children:n.jsx(o.VY,{ref:a,className:(0,i.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white text-gray-700 shadow-md animate-in fade-in-80",e),...t,children:n.jsx(o.l_,{className:"p-1",children:r})})}));p.displayName=o.VY.displayName;let f=a.forwardRef(({className:e,children:r,...t},a)=>(0,n.jsxs)(o.ck,{ref:a,className:(0,i.cn)("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-blue-500 focus:text-white",e),...t,children:[n.jsx(o.eT,{children:r}),n.jsx(o.wU,{className:"absolute right-2 flex items-center",children:n.jsx(l.Z,{className:"h-4 w-4"})})]}));f.displayName=o.ck.displayName},294:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var n=t(19510),a=t(46569);let o=(0,t(68570).createProxy)(String.raw`D:\appProject\GologinAutomation\gologin\components\admin\user-management-table.tsx#UserManagementTable`);var s=t(58585);async function l(){try{await (0,a.kF)()}catch{(0,s.redirect)("/dashboard")}return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Admin Panel"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage users and folder assignments"})]}),n.jsx(o,{})]})}},46569:(e,r,t)=>{"use strict";t.d(r,{GJ:()=>o,kF:()=>s});var n=t(19692);async function a(){let e=await (0,n.t)(),{data:{user:r}}=await e.auth.getUser();return r}async function o(){let e=await (0,n.t)(),r=await a();if(!r)return!1;console.log("[v0] Checking admin status for user:",r.email);let{data:t,error:o}=await e.from("users").select("role").eq("email",r.email).single();if(console.log("[v0] User data from database:",t),console.log("[v0] Query error:",o),o||!t)return console.log("[v0] No user data found or error occurred"),!1;let s="admin"===t.role;return console.log("[v0] Is admin:",s),s}async function s(){if(!await o())throw Error("Unauthorized: Admin access required")}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[8948,4526,9702,936,6621,2325,1910,2099,519,8628,6518,6715,8219],()=>t(47261));module.exports=n})();