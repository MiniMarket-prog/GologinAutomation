(()=>{var e={};e.id=2294,e.ids=[2294],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},52226:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),t(294),t(95124),t(11506),t(35866);var n=t(23191),o=t(88716),s=t(37922),a=t.n(s),l=t(95231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(r,i);let d=["",{children:["dashboard",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,294)),"C:\\Users\\HP\\Documents\\GitHub\\GologinAutomation\\gologin\\app\\dashboard\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,95124)),"C:\\Users\\HP\\Documents\\GitHub\\GologinAutomation\\gologin\\app\\dashboard\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"C:\\Users\\HP\\Documents\\GitHub\\GologinAutomation\\gologin\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\HP\\Documents\\GitHub\\GologinAutomation\\gologin\\app\\dashboard\\admin\\page.tsx"],u="/dashboard/admin/page",p={require:t,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/dashboard/admin/page",pathname:"/dashboard/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},40028:(e,r,t)=>{Promise.resolve().then(t.bind(t,65330))},65330:(e,r,t)=>{"use strict";t.d(r,{UserManagementTable:()=>eu});var n=t(10326),o=t(17577),s=t(90772),a=t(15940),l=t(567),i=t(60097);let d=(0,t(62881).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var c=t(15919),u=t(65983),p=t(98091),h=t(62288),m=t(54432),f=t(31048),x=t(34474);function w({open:e,onOpenChange:r,onSuccess:t}){let[a,l]=(0,o.useState)(!1),[i,d]=(0,o.useState)({email:"",password:"",role:"user"}),c=async e=>{e.preventDefault(),l(!0);try{let e=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!e.ok){let r=await e.json();throw Error(r.error||"Failed to create user")}t(),r(!1),d({email:"",password:"",role:"user"})}catch(e){console.error("[v0] Error creating user:",e),alert(`Failed to create user: ${e instanceof Error?e.message:"Unknown error"}`)}finally{l(!1)}};return n.jsx(h.Vq,{open:e,onOpenChange:r,children:(0,n.jsxs)(h.cZ,{children:[(0,n.jsxs)(h.fK,{children:[n.jsx(h.$N,{children:"Create New User"}),n.jsx(h.Be,{children:"Add a new user to the system"})]}),(0,n.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(f._,{htmlFor:"email",children:"Email"}),n.jsx(m.I,{id:"email",type:"email",value:i.email,onChange:e=>d({...i,email:e.target.value}),required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(f._,{htmlFor:"password",children:"Password"}),n.jsx(m.I,{id:"password",type:"password",value:i.password,onChange:e=>d({...i,password:e.target.value}),required:!0,minLength:6})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(f._,{htmlFor:"role",children:"Role"}),(0,n.jsxs)(x.Ph,{value:i.role,onValueChange:e=>d({...i,role:e}),children:[n.jsx(x.i4,{children:n.jsx(x.ki,{})}),(0,n.jsxs)(x.Bw,{children:[n.jsx(x.Ql,{value:"user",children:"User"}),n.jsx(x.Ql,{value:"admin",children:"Admin"})]})]})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-2",children:[n.jsx(s.z,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(s.z,{type:"submit",disabled:a,children:a?"Creating...":"Create User"})]})]})]})})}var v=t(53313),g=t(45226),b=t(9815),j=t(93095),y=t(48051),N=t(55049),S=t(17124),C=t(65819),E=t(37125),P=t(82561),R="ScrollArea",[_,T]=(0,j.b)(R),[A,k]=_(R),D=o.forwardRef((e,r)=>{let{__scopeScrollArea:t,type:s="hover",dir:a,scrollHideDelay:l=600,...i}=e,[d,c]=o.useState(null),[u,p]=o.useState(null),[h,m]=o.useState(null),[f,x]=o.useState(null),[w,v]=o.useState(null),[b,j]=o.useState(0),[N,C]=o.useState(0),[E,P]=o.useState(!1),[R,_]=o.useState(!1),T=(0,y.e)(r,e=>c(e)),k=(0,S.gm)(a);return(0,n.jsx)(A,{scope:t,type:s,dir:k,scrollHideDelay:l,scrollArea:d,viewport:u,onViewportChange:p,content:h,onContentChange:m,scrollbarX:f,onScrollbarXChange:x,scrollbarXEnabled:E,onScrollbarXEnabledChange:P,scrollbarY:w,onScrollbarYChange:v,scrollbarYEnabled:R,onScrollbarYEnabledChange:_,onCornerWidthChange:j,onCornerHeightChange:C,children:(0,n.jsx)(g.WV.div,{dir:k,...i,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});D.displayName=R;var z="ScrollAreaViewport",L=o.forwardRef((e,r)=>{let{__scopeScrollArea:t,children:s,nonce:a,...l}=e,i=k(z,t),d=o.useRef(null),c=(0,y.e)(r,d,i.onViewportChange);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,n.jsx)(g.WV.div,{"data-radix-scroll-area-viewport":"",...l,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,n.jsx)("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});L.displayName=z;var U="ScrollAreaScrollbar",W=o.forwardRef((e,r)=>{let{forceMount:t,...s}=e,a=k(U,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:i}=a,d="horizontal"===e.orientation;return o.useEffect(()=>(d?l(!0):i(!0),()=>{d?l(!1):i(!1)}),[d,l,i]),"hover"===a.type?(0,n.jsx)(H,{...s,ref:r,forceMount:t}):"scroll"===a.type?(0,n.jsx)(F,{...s,ref:r,forceMount:t}):"auto"===a.type?(0,n.jsx)(q,{...s,ref:r,forceMount:t}):"always"===a.type?(0,n.jsx)(O,{...s,ref:r}):null});W.displayName=U;var H=o.forwardRef((e,r)=>{let{forceMount:t,...s}=e,a=k(U,e.__scopeScrollArea),[l,i]=o.useState(!1);return o.useEffect(()=>{let e=a.scrollArea,r=0;if(e){let t=()=>{window.clearTimeout(r),i(!0)},n=()=>{r=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return e.addEventListener("pointerenter",t),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(r),e.removeEventListener("pointerenter",t),e.removeEventListener("pointerleave",n)}}},[a.scrollArea,a.scrollHideDelay]),(0,n.jsx)(b.z,{present:t||l,children:(0,n.jsx)(q,{"data-state":l?"visible":"hidden",...s,ref:r})})}),F=o.forwardRef((e,r)=>{var t,s;let{forceMount:a,...l}=e,i=k(U,e.__scopeScrollArea),d="horizontal"===e.orientation,c=es(()=>p("SCROLL_END"),100),[u,p]=(t="hidden",s={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},o.useReducer((e,r)=>s[e][r]??e,t));return o.useEffect(()=>{if("idle"===u){let e=window.setTimeout(()=>p("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(e)}},[u,i.scrollHideDelay,p]),o.useEffect(()=>{let e=i.viewport,r=d?"scrollLeft":"scrollTop";if(e){let t=e[r],n=()=>{let n=e[r];t!==n&&(p("SCROLL"),c()),t=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}},[i.viewport,d,p,c]),(0,n.jsx)(b.z,{present:a||"hidden"!==u,children:(0,n.jsx)(O,{"data-state":"hidden"===u?"hidden":"visible",...l,ref:r,onPointerEnter:(0,P.M)(e.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:(0,P.M)(e.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),q=o.forwardRef((e,r)=>{let t=k(U,e.__scopeScrollArea),{forceMount:s,...a}=e,[l,i]=o.useState(!1),d="horizontal"===e.orientation,c=es(()=>{if(t.viewport){let e=t.viewport.offsetWidth<t.viewport.scrollWidth,r=t.viewport.offsetHeight<t.viewport.scrollHeight;i(d?e:r)}},10);return ea(t.viewport,c),ea(t.content,c),(0,n.jsx)(b.z,{present:s||l,children:(0,n.jsx)(O,{"data-state":l?"visible":"hidden",...a,ref:r})})}),O=o.forwardRef((e,r)=>{let{orientation:t="vertical",...s}=e,a=k(U,e.__scopeScrollArea),l=o.useRef(null),i=o.useRef(0),[d,c]=o.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ee(d.viewport,d.content),p={...s,sizes:d,onSizesChange:c,hasThumb:!!(u>0&&u<1),onThumbChange:e=>l.current=e,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:e=>i.current=e};function h(e,r){return function(e,r,t,n="ltr"){let o=er(t),s=r||o/2,a=t.scrollbar.paddingStart+s,l=t.scrollbar.size-t.scrollbar.paddingEnd-(o-s),i=t.content-t.viewport;return en([a,l],"ltr"===n?[0,i]:[-1*i,0])(e)}(e,i.current,d,r)}return"horizontal"===t?(0,n.jsx)(M,{...p,ref:r,onThumbPositionChange:()=>{if(a.viewport&&l.current){let e=et(a.viewport.scrollLeft,d,a.dir);l.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=h(e,a.dir))}}):"vertical"===t?(0,n.jsx)(G,{...p,ref:r,onThumbPositionChange:()=>{if(a.viewport&&l.current){let e=et(a.viewport.scrollTop,d);l.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=h(e))}}):null}),M=o.forwardRef((e,r)=>{let{sizes:t,onSizesChange:s,...a}=e,l=k(U,e.__scopeScrollArea),[i,d]=o.useState(),c=o.useRef(null),u=(0,y.e)(r,c,l.onScrollbarXChange);return o.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),(0,n.jsx)(X,{"data-orientation":"horizontal",...a,ref:u,sizes:t,style:{bottom:0,left:"rtl"===l.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===l.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":er(t)+"px",...e.style},onThumbPointerDown:r=>e.onThumbPointerDown(r.x),onDragScroll:r=>e.onDragScroll(r.x),onWheelScroll:(r,t)=>{if(l.viewport){let n=l.viewport.scrollLeft+r.deltaX;e.onWheelScroll(n),function(e,r){return e>0&&e<r}(n,t)&&r.preventDefault()}},onResize:()=>{c.current&&l.viewport&&i&&s({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:K(i.paddingLeft),paddingEnd:K(i.paddingRight)}})}})}),G=o.forwardRef((e,r)=>{let{sizes:t,onSizesChange:s,...a}=e,l=k(U,e.__scopeScrollArea),[i,d]=o.useState(),c=o.useRef(null),u=(0,y.e)(r,c,l.onScrollbarYChange);return o.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),(0,n.jsx)(X,{"data-orientation":"vertical",...a,ref:u,sizes:t,style:{top:0,right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":er(t)+"px",...e.style},onThumbPointerDown:r=>e.onThumbPointerDown(r.y),onDragScroll:r=>e.onDragScroll(r.y),onWheelScroll:(r,t)=>{if(l.viewport){let n=l.viewport.scrollTop+r.deltaY;e.onWheelScroll(n),function(e,r){return e>0&&e<r}(n,t)&&r.preventDefault()}},onResize:()=>{c.current&&l.viewport&&i&&s({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:K(i.paddingTop),paddingEnd:K(i.paddingBottom)}})}})}),[V,I]=_(U),X=o.forwardRef((e,r)=>{let{__scopeScrollArea:t,sizes:s,hasThumb:a,onThumbChange:l,onThumbPointerUp:i,onThumbPointerDown:d,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:p,onResize:h,...m}=e,f=k(U,t),[x,w]=o.useState(null),v=(0,y.e)(r,e=>w(e)),b=o.useRef(null),j=o.useRef(""),S=f.viewport,C=s.content-s.viewport,E=(0,N.W)(p),R=(0,N.W)(c),_=es(h,10);function T(e){b.current&&u({x:e.clientX-b.current.left,y:e.clientY-b.current.top})}return o.useEffect(()=>{let e=e=>{let r=e.target;x?.contains(r)&&E(e,C)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[S,x,C,E]),o.useEffect(R,[s,R]),ea(x,_),ea(f.content,_),(0,n.jsx)(V,{scope:t,scrollbar:x,hasThumb:a,onThumbChange:(0,N.W)(l),onThumbPointerUp:(0,N.W)(i),onThumbPositionChange:R,onThumbPointerDown:(0,N.W)(d),children:(0,n.jsx)(g.WV.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:(0,P.M)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),b.current=x.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),T(e))}),onPointerMove:(0,P.M)(e.onPointerMove,T),onPointerUp:(0,P.M)(e.onPointerUp,e=>{let r=e.target;r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=j.current,f.viewport&&(f.viewport.style.scrollBehavior=""),b.current=null})})})}),Y="ScrollAreaThumb",Z=o.forwardRef((e,r)=>{let{forceMount:t,...o}=e,s=I(Y,e.__scopeScrollArea);return(0,n.jsx)(b.z,{present:t||s.hasThumb,children:(0,n.jsx)(B,{ref:r,...o})})}),B=o.forwardRef((e,r)=>{let{__scopeScrollArea:t,style:s,...a}=e,l=k(Y,t),i=I(Y,t),{onThumbPositionChange:d}=i,c=(0,y.e)(r,e=>i.onThumbChange(e)),u=o.useRef(void 0),p=es(()=>{u.current&&(u.current(),u.current=void 0)},100);return o.useEffect(()=>{let e=l.viewport;if(e){let r=()=>{if(p(),!u.current){let r=eo(e,d);u.current=r,d()}};return d(),e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}},[l.viewport,p,d]),(0,n.jsx)(g.WV.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:(0,P.M)(e.onPointerDownCapture,e=>{let r=e.target.getBoundingClientRect(),t=e.clientX-r.left,n=e.clientY-r.top;i.onThumbPointerDown({x:t,y:n})}),onPointerUp:(0,P.M)(e.onPointerUp,i.onThumbPointerUp)})});Z.displayName=Y;var $="ScrollAreaCorner",J=o.forwardRef((e,r)=>{let t=k($,e.__scopeScrollArea),o=!!(t.scrollbarX&&t.scrollbarY);return"scroll"!==t.type&&o?(0,n.jsx)(Q,{...e,ref:r}):null});J.displayName=$;var Q=o.forwardRef((e,r)=>{let{__scopeScrollArea:t,...s}=e,a=k($,t),[l,i]=o.useState(0),[d,c]=o.useState(0),u=!!(l&&d);return ea(a.scrollbarX,()=>{let e=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(e),c(e)}),ea(a.scrollbarY,()=>{let e=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(e),i(e)}),u?(0,n.jsx)(g.WV.div,{...s,ref:r,style:{width:l,height:d,position:"absolute",right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:0,...e.style}}):null});function K(e){return e?parseInt(e,10):0}function ee(e,r){let t=e/r;return isNaN(t)?0:t}function er(e){let r=ee(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-t)*r,18)}function et(e,r,t="ltr"){let n=er(r),o=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,s=r.scrollbar.size-o,a=r.content-r.viewport,l=(0,E.u)(e,"ltr"===t?[0,a]:[-1*a,0]);return en([0,a],[0,s-n])(l)}function en(e,r){return t=>{if(e[0]===e[1]||r[0]===r[1])return r[0];let n=(r[1]-r[0])/(e[1]-e[0]);return r[0]+n*(t-e[0])}}var eo=(e,r=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},n=0;return function o(){let s={left:e.scrollLeft,top:e.scrollTop},a=t.left!==s.left,l=t.top!==s.top;(a||l)&&r(),t=s,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)};function es(e,r){let t=(0,N.W)(e),n=o.useRef(0);return o.useEffect(()=>()=>window.clearTimeout(n.current),[]),o.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(t,r)},[t,r])}function ea(e,r){let t=(0,N.W)(r);(0,C.b)(()=>{let r=0;if(e){let n=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return n.observe(e),()=>{window.cancelAnimationFrame(r),n.unobserve(e)}}},[e,t])}var el=t(77863);let ei=o.forwardRef(({className:e,children:r,...t},o)=>(0,n.jsxs)(D,{ref:o,className:(0,el.cn)("relative overflow-hidden",e),...t,children:[n.jsx(L,{className:"h-full w-full rounded-[inherit]",children:r}),n.jsx(ed,{}),n.jsx(J,{})]}));ei.displayName=D.displayName;let ed=o.forwardRef(({className:e,orientation:r="vertical",...t},o)=>n.jsx(W,{ref:o,orientation:r,className:(0,el.cn)("flex touch-none select-none transition-colors","vertical"===r?"h-full w-2.5 border-l border-l-transparent p-[1px]":"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:n.jsx(Z,{className:"relative flex-1 rounded-full bg-border"})}));function ec({open:e,onOpenChange:r,user:t,onSuccess:a}){let[l,i]=(0,o.useState)(!1),[d,c]=(0,o.useState)([]),[u,p]=(0,o.useState)([]),m=e=>{p(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},x=async e=>{e.preventDefault(),i(!0);try{let e=await fetch("/api/admin/folder-assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t.id,folderNames:u})});if(!e.ok){let r=await e.json();throw Error(r.error||"Failed to update folder assignments")}a(),r(!1)}catch(e){console.error("[v0] Error updating folder assignments:",e),alert(`Failed to update folder assignments: ${e instanceof Error?e.message:"Unknown error"}`)}finally{i(!1)}};return n.jsx(h.Vq,{open:e,onOpenChange:r,children:(0,n.jsxs)(h.cZ,{className:"max-w-md",children:[(0,n.jsxs)(h.fK,{children:[n.jsx(h.$N,{children:"Manage Folder Access"}),(0,n.jsxs)(h.Be,{children:["Select which folders ",t.email," can access"]})]}),(0,n.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[n.jsx(ei,{className:"h-[300px] rounded-md border p-4",children:n.jsx("div",{className:"space-y-3",children:d.length>0?d.map(e=>(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx(v.X,{id:e,checked:u.includes(e),onCheckedChange:()=>m(e)}),(0,n.jsxs)(f._,{htmlFor:e,className:"cursor-pointer",children:["\uD83D\uDCC1 ",e]})]},e)):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No folders found"})})}),n.jsx("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:(0,n.jsxs)("span",{children:[u.length," folder(s) selected"]})}),(0,n.jsxs)("div",{className:"flex justify-end gap-2",children:[n.jsx(s.z,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(s.z,{type:"submit",disabled:l,children:l?"Saving...":"Save Changes"})]})]})]})})}function eu(){let[e,r]=(0,o.useState)([]),[t,h]=(0,o.useState)(!0),[m,f]=(0,o.useState)(null),[x,v]=(0,o.useState)(!1),[g,b]=(0,o.useState)(!1),j=async()=>{try{let e=await fetch("/api/admin/users");if(!e.ok)throw Error("Failed to fetch users");let t=await e.json();r(t.users)}catch(e){console.error("[v0] Error fetching users:",e)}finally{h(!1)}},y=async e=>{if(confirm("Are you sure you want to delete this user?"))try{if(!(await fetch(`/api/admin/users/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete user");j()}catch(e){console.error("[v0] Error deleting user:",e),alert("Failed to delete user")}},N=e=>{f(e),b(!0)};return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Users"}),(0,n.jsxs)(s.z,{onClick:()=>v(!0),children:[n.jsx(d,{className:"mr-2 h-4 w-4"}),"Create User"]})]}),n.jsx("div",{className:"rounded-md border",children:(0,n.jsxs)(a.iA,{children:[n.jsx(a.xD,{children:(0,n.jsxs)(a.SC,{children:[n.jsx(a.ss,{children:"Email"}),n.jsx(a.ss,{children:"Role"}),n.jsx(a.ss,{children:"Created At"}),n.jsx(a.ss,{className:"w-[80px]",children:"Actions"})]})}),n.jsx(a.RM,{children:t?n.jsx(a.SC,{children:n.jsx(a.pj,{colSpan:4,className:"text-center text-muted-foreground",children:"Loading users..."})}):e.length>0?e.map(e=>(0,n.jsxs)(a.SC,{children:[n.jsx(a.pj,{className:"font-medium",children:e.email}),n.jsx(a.pj,{children:n.jsx(l.C,{variant:"admin"===e.role?"default":"secondary",children:e.role})}),n.jsx(a.pj,{children:new Date(e.created_at).toLocaleDateString()}),n.jsx(a.pj,{children:(0,n.jsxs)(i.h_,{children:[n.jsx(i.$F,{asChild:!0,children:n.jsx(s.z,{variant:"ghost",size:"icon",children:n.jsx(c.Z,{className:"h-4 w-4"})})}),(0,n.jsxs)(i.AW,{align:"end",children:[(0,n.jsxs)(i.Xi,{onClick:()=>N(e),children:[n.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Manage Folders"]}),(0,n.jsxs)(i.Xi,{onClick:()=>y(e.id),className:"text-red-600",children:[n.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id)):n.jsx(a.SC,{children:n.jsx(a.pj,{colSpan:4,className:"text-center text-muted-foreground",children:"No users found"})})})]})}),n.jsx(w,{open:x,onOpenChange:v,onSuccess:j}),m&&n.jsx(ec,{open:g,onOpenChange:b,user:m,onSuccess:j})]})}ed.displayName=W.displayName},60097:(e,r,t)=>{"use strict";t.d(r,{$F:()=>u,AW:()=>p,Xi:()=>h,h_:()=>c});var n=t(10326),o=t(17577),s=t(79313),a=t(39183),l=t(32933),i=t(53982),d=t(77863);let c=s.fC,u=s.xz;s.ZA,s.Uv,s.Tr,s.Ee,o.forwardRef(({className:e,inset:r,children:t,...o},l)=>(0,n.jsxs)(s.fF,{ref:l,className:(0,d.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",e),...o,children:[t,n.jsx(a.Z,{className:"ml-auto"})]})).displayName=s.fF.displayName,o.forwardRef(({className:e,...r},t)=>n.jsx(s.tu,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})).displayName=s.tu.displayName;let p=o.forwardRef(({className:e,sideOffset:r=4,...t},o)=>n.jsx(s.Uv,{children:n.jsx(s.VY,{ref:o,sideOffset:r,className:(0,d.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t})}));p.displayName=s.VY.displayName;let h=o.forwardRef(({className:e,inset:r,...t},o)=>n.jsx(s.ck,{ref:o,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",r&&"pl-8",e),...t}));h.displayName=s.ck.displayName,o.forwardRef(({className:e,children:r,checked:t,...o},a)=>(0,n.jsxs)(s.oC,{ref:a,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...o,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(s.wU,{children:n.jsx(l.Z,{className:"h-4 w-4"})})}),r]})).displayName=s.oC.displayName,o.forwardRef(({className:e,children:r,...t},o)=>(0,n.jsxs)(s.Rk,{ref:o,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(s.wU,{children:n.jsx(i.Z,{className:"h-2 w-2 fill-current"})})}),r]})).displayName=s.Rk.displayName,o.forwardRef(({className:e,inset:r,...t},o)=>n.jsx(s.__,{ref:o,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...t})).displayName=s.__.displayName,o.forwardRef(({className:e,...r},t)=>n.jsx(s.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...r})).displayName=s.Z0.displayName},34474:(e,r,t)=>{"use strict";t.d(r,{Bw:()=>p,Ph:()=>d,Ql:()=>h,i4:()=>u,ki:()=>c});var n=t(10326),o=t(17577),s=t(13869),a=t(941),l=t(32933),i=t(77863);let d=s.fC;s.ZA;let c=s.B4,u=o.forwardRef(({className:e,children:r,...t},o)=>(0,n.jsxs)(s.xz,{ref:o,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:[r,n.jsx(s.JO,{asChild:!0,children:n.jsx(a.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=s.xz.displayName;let p=o.forwardRef(({className:e,children:r,...t},o)=>n.jsx(s.h_,{children:n.jsx(s.VY,{ref:o,className:(0,i.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white text-gray-700 shadow-md animate-in fade-in-80",e),...t,children:n.jsx(s.l_,{className:"p-1",children:r})})}));p.displayName=s.VY.displayName;let h=o.forwardRef(({className:e,children:r,...t},o)=>(0,n.jsxs)(s.ck,{ref:o,className:(0,i.cn)("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-blue-500 focus:text-white",e),...t,children:[n.jsx(s.eT,{children:r}),n.jsx(s.wU,{className:"absolute right-2 flex items-center",children:n.jsx(l.Z,{className:"h-4 w-4"})})]}));h.displayName=s.ck.displayName},294:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var n=t(19510),o=t(46569);let s=(0,t(68570).createProxy)(String.raw`C:\Users\HP\Documents\GitHub\GologinAutomation\gologin\components\admin\user-management-table.tsx#UserManagementTable`);var a=t(58585);async function l(){try{await (0,o.kF)()}catch{(0,a.redirect)("/dashboard")}return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Admin Panel"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage users and folder assignments"})]}),n.jsx(s,{})]})}},46569:(e,r,t)=>{"use strict";t.d(r,{GJ:()=>s,kF:()=>a,ts:()=>o});var n=t(19692);async function o(){let e=await (0,n.t)(),{data:{user:r}}=await e.auth.getUser();return r}async function s(){let e=await (0,n.t)(),r=await o();if(!r)return!1;console.log("[v0] Checking admin status for user:",r.email);let{data:t,error:s}=await e.from("users").select("role").eq("email",r.email).single();if(console.log("[v0] User data from database:",t),console.log("[v0] Query error:",s),s||!t)return console.log("[v0] No user data found or error occurred"),!1;let a="admin"===t.role;return console.log("[v0] Is admin:",a),a}async function a(){if(!await s())throw Error("Unauthorized: Admin access required")}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[8948,4526,9702,936,6621,2325,1910,2099,3730,8628,5900,6715,5776],()=>t(52226));module.exports=n})();