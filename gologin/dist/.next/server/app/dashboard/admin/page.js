(()=>{var e={};e.id=1305,e.ids=[1305],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},5315:e=>{"use strict";e.exports=require("path")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},2226:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>d}),t(4605),t(5124),t(1506),t(5866);var n=t(3191),s=t(8716),a=t(7922),o=t.n(a),l=t(5231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(r,i);let d=["",{children:["dashboard",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4605)),"C:\\Users\\HP\\Documents\\GitHub\\GologinAutomation\\gologin\\app\\dashboard\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5124)),"C:\\Users\\HP\\Documents\\GitHub\\GologinAutomation\\gologin\\app\\dashboard\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7386))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"C:\\Users\\HP\\Documents\\GitHub\\GologinAutomation\\gologin\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7386))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\HP\\Documents\\GitHub\\GologinAutomation\\gologin\\app\\dashboard\\admin\\page.tsx"],u="/dashboard/admin/page",p={require:t,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/admin/page",pathname:"/dashboard/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},28:(e,r,t)=>{Promise.resolve().then(t.bind(t,5330))},5330:(e,r,t)=>{"use strict";t.d(r,{UserManagementTable:()=>eu});var n=t(326),s=t(7577),a=t(772),o=t(5940),l=t(567),i=t(97);let d=(0,t(2881).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var c=t(5730),u=t(5983),p=t(8091),f=t(2288),h=t(4432),m=t(1048),x=t(4474);function w({open:e,onOpenChange:r,onSuccess:t}){let[o,l]=(0,s.useState)(!1),[i,d]=(0,s.useState)({email:"",password:"",role:"user"}),c=async e=>{e.preventDefault(),l(!0);try{let e=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!e.ok){let r=await e.json();throw Error(r.error||"Failed to create user")}t(),r(!1),d({email:"",password:"",role:"user"})}catch(e){console.error("[v0] Error creating user:",e),alert(`Failed to create user: ${e instanceof Error?e.message:"Unknown error"}`)}finally{l(!1)}};return n.jsx(f.Vq,{open:e,onOpenChange:r,children:(0,n.jsxs)(f.cZ,{children:[(0,n.jsxs)(f.fK,{children:[n.jsx(f.$N,{children:"Create New User"}),n.jsx(f.Be,{children:"Add a new user to the system"})]}),(0,n.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(m._,{htmlFor:"email",children:"Email"}),n.jsx(h.I,{id:"email",type:"email",value:i.email,onChange:e=>d({...i,email:e.target.value}),required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(m._,{htmlFor:"password",children:"Password"}),n.jsx(h.I,{id:"password",type:"password",value:i.password,onChange:e=>d({...i,password:e.target.value}),required:!0,minLength:6})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(m._,{htmlFor:"role",children:"Role"}),(0,n.jsxs)(x.Ph,{value:i.role,onValueChange:e=>d({...i,role:e}),children:[n.jsx(x.i4,{children:n.jsx(x.ki,{})}),(0,n.jsxs)(x.Bw,{children:[n.jsx(x.Ql,{value:"user",children:"User"}),n.jsx(x.Ql,{value:"admin",children:"Admin"})]})]})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-2",children:[n.jsx(a.z,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(a.z,{type:"submit",disabled:o,children:o?"Creating...":"Create User"})]})]})]})})}var v=t(8762),g=t(5226),b=t(9815),y=t(3095),j=t(8051),N=t(5049),S=t(7124),C=t(5819),E=t(7125),R=t(2561),P="ScrollArea",[k,_]=(0,y.b)(P),[T,D]=k(P),A=s.forwardRef((e,r)=>{let{__scopeScrollArea:t,type:a="hover",dir:o,scrollHideDelay:l=600,...i}=e,[d,c]=s.useState(null),[u,p]=s.useState(null),[f,h]=s.useState(null),[m,x]=s.useState(null),[w,v]=s.useState(null),[b,y]=s.useState(0),[N,C]=s.useState(0),[E,R]=s.useState(!1),[P,k]=s.useState(!1),_=(0,j.e)(r,e=>c(e)),D=(0,S.gm)(o);return(0,n.jsx)(T,{scope:t,type:a,dir:D,scrollHideDelay:l,scrollArea:d,viewport:u,onViewportChange:p,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:E,onScrollbarXEnabledChange:R,scrollbarY:w,onScrollbarYChange:v,scrollbarYEnabled:P,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:C,children:(0,n.jsx)(g.WV.div,{dir:D,...i,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});A.displayName=P;var L="ScrollAreaViewport",z=s.forwardRef((e,r)=>{let{__scopeScrollArea:t,children:a,nonce:o,...l}=e,i=D(L,t),d=s.useRef(null),c=(0,j.e)(r,d,i.onViewportChange);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),(0,n.jsx)(g.WV.div,{"data-radix-scroll-area-viewport":"",...l,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,n.jsx)("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});z.displayName=L;var U="ScrollAreaScrollbar",W=s.forwardRef((e,r)=>{let{forceMount:t,...a}=e,o=D(U,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:i}=o,d="horizontal"===e.orientation;return s.useEffect(()=>(d?l(!0):i(!0),()=>{d?l(!1):i(!1)}),[d,l,i]),"hover"===o.type?(0,n.jsx)(H,{...a,ref:r,forceMount:t}):"scroll"===o.type?(0,n.jsx)(F,{...a,ref:r,forceMount:t}):"auto"===o.type?(0,n.jsx)(O,{...a,ref:r,forceMount:t}):"always"===o.type?(0,n.jsx)(q,{...a,ref:r}):null});W.displayName=U;var H=s.forwardRef((e,r)=>{let{forceMount:t,...a}=e,o=D(U,e.__scopeScrollArea),[l,i]=s.useState(!1);return s.useEffect(()=>{let e=o.scrollArea,r=0;if(e){let t=()=>{window.clearTimeout(r),i(!0)},n=()=>{r=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return e.addEventListener("pointerenter",t),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(r),e.removeEventListener("pointerenter",t),e.removeEventListener("pointerleave",n)}}},[o.scrollArea,o.scrollHideDelay]),(0,n.jsx)(b.z,{present:t||l,children:(0,n.jsx)(O,{"data-state":l?"visible":"hidden",...a,ref:r})})}),F=s.forwardRef((e,r)=>{var t,a;let{forceMount:o,...l}=e,i=D(U,e.__scopeScrollArea),d="horizontal"===e.orientation,c=ea(()=>p("SCROLL_END"),100),[u,p]=(t="hidden",a={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},s.useReducer((e,r)=>a[e][r]??e,t));return s.useEffect(()=>{if("idle"===u){let e=window.setTimeout(()=>p("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(e)}},[u,i.scrollHideDelay,p]),s.useEffect(()=>{let e=i.viewport,r=d?"scrollLeft":"scrollTop";if(e){let t=e[r],n=()=>{let n=e[r];t!==n&&(p("SCROLL"),c()),t=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}},[i.viewport,d,p,c]),(0,n.jsx)(b.z,{present:o||"hidden"!==u,children:(0,n.jsx)(q,{"data-state":"hidden"===u?"hidden":"visible",...l,ref:r,onPointerEnter:(0,R.M)(e.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:(0,R.M)(e.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),O=s.forwardRef((e,r)=>{let t=D(U,e.__scopeScrollArea),{forceMount:a,...o}=e,[l,i]=s.useState(!1),d="horizontal"===e.orientation,c=ea(()=>{if(t.viewport){let e=t.viewport.offsetWidth<t.viewport.scrollWidth,r=t.viewport.offsetHeight<t.viewport.scrollHeight;i(d?e:r)}},10);return eo(t.viewport,c),eo(t.content,c),(0,n.jsx)(b.z,{present:a||l,children:(0,n.jsx)(q,{"data-state":l?"visible":"hidden",...o,ref:r})})}),q=s.forwardRef((e,r)=>{let{orientation:t="vertical",...a}=e,o=D(U,e.__scopeScrollArea),l=s.useRef(null),i=s.useRef(0),[d,c]=s.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ee(d.viewport,d.content),p={...a,sizes:d,onSizesChange:c,hasThumb:!!(u>0&&u<1),onThumbChange:e=>l.current=e,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:e=>i.current=e};function f(e,r){return function(e,r,t,n="ltr"){let s=er(t),a=r||s/2,o=t.scrollbar.paddingStart+a,l=t.scrollbar.size-t.scrollbar.paddingEnd-(s-a),i=t.content-t.viewport;return en([o,l],"ltr"===n?[0,i]:[-1*i,0])(e)}(e,i.current,d,r)}return"horizontal"===t?(0,n.jsx)(M,{...p,ref:r,onThumbPositionChange:()=>{if(o.viewport&&l.current){let e=et(o.viewport.scrollLeft,d,o.dir);l.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{o.viewport&&(o.viewport.scrollLeft=e)},onDragScroll:e=>{o.viewport&&(o.viewport.scrollLeft=f(e,o.dir))}}):"vertical"===t?(0,n.jsx)(I,{...p,ref:r,onThumbPositionChange:()=>{if(o.viewport&&l.current){let e=et(o.viewport.scrollTop,d);l.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{o.viewport&&(o.viewport.scrollTop=e)},onDragScroll:e=>{o.viewport&&(o.viewport.scrollTop=f(e))}}):null}),M=s.forwardRef((e,r)=>{let{sizes:t,onSizesChange:a,...o}=e,l=D(U,e.__scopeScrollArea),[i,d]=s.useState(),c=s.useRef(null),u=(0,j.e)(r,c,l.onScrollbarXChange);return s.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),(0,n.jsx)(G,{"data-orientation":"horizontal",...o,ref:u,sizes:t,style:{bottom:0,left:"rtl"===l.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===l.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":er(t)+"px",...e.style},onThumbPointerDown:r=>e.onThumbPointerDown(r.x),onDragScroll:r=>e.onDragScroll(r.x),onWheelScroll:(r,t)=>{if(l.viewport){let n=l.viewport.scrollLeft+r.deltaX;e.onWheelScroll(n),function(e,r){return e>0&&e<r}(n,t)&&r.preventDefault()}},onResize:()=>{c.current&&l.viewport&&i&&a({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Q(i.paddingLeft),paddingEnd:Q(i.paddingRight)}})}})}),I=s.forwardRef((e,r)=>{let{sizes:t,onSizesChange:a,...o}=e,l=D(U,e.__scopeScrollArea),[i,d]=s.useState(),c=s.useRef(null),u=(0,j.e)(r,c,l.onScrollbarYChange);return s.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),(0,n.jsx)(G,{"data-orientation":"vertical",...o,ref:u,sizes:t,style:{top:0,right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":er(t)+"px",...e.style},onThumbPointerDown:r=>e.onThumbPointerDown(r.y),onDragScroll:r=>e.onDragScroll(r.y),onWheelScroll:(r,t)=>{if(l.viewport){let n=l.viewport.scrollTop+r.deltaY;e.onWheelScroll(n),function(e,r){return e>0&&e<r}(n,t)&&r.preventDefault()}},onResize:()=>{c.current&&l.viewport&&i&&a({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Q(i.paddingTop),paddingEnd:Q(i.paddingBottom)}})}})}),[V,X]=k(U),G=s.forwardRef((e,r)=>{let{__scopeScrollArea:t,sizes:a,hasThumb:o,onThumbChange:l,onThumbPointerUp:i,onThumbPointerDown:d,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:p,onResize:f,...h}=e,m=D(U,t),[x,w]=s.useState(null),v=(0,j.e)(r,e=>w(e)),b=s.useRef(null),y=s.useRef(""),S=m.viewport,C=a.content-a.viewport,E=(0,N.W)(p),P=(0,N.W)(c),k=ea(f,10);function _(e){b.current&&u({x:e.clientX-b.current.left,y:e.clientY-b.current.top})}return s.useEffect(()=>{let e=e=>{let r=e.target;x?.contains(r)&&E(e,C)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[S,x,C,E]),s.useEffect(P,[a,P]),eo(x,k),eo(m.content,k),(0,n.jsx)(V,{scope:t,scrollbar:x,hasThumb:o,onThumbChange:(0,N.W)(l),onThumbPointerUp:(0,N.W)(i),onThumbPositionChange:P,onThumbPointerDown:(0,N.W)(d),children:(0,n.jsx)(g.WV.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:(0,R.M)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),b.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),_(e))}),onPointerMove:(0,R.M)(e.onPointerMove,_),onPointerUp:(0,R.M)(e.onPointerUp,e=>{let r=e.target;r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),Z="ScrollAreaThumb",Y=s.forwardRef((e,r)=>{let{forceMount:t,...s}=e,a=X(Z,e.__scopeScrollArea);return(0,n.jsx)(b.z,{present:t||a.hasThumb,children:(0,n.jsx)(B,{ref:r,...s})})}),B=s.forwardRef((e,r)=>{let{__scopeScrollArea:t,style:a,...o}=e,l=D(Z,t),i=X(Z,t),{onThumbPositionChange:d}=i,c=(0,j.e)(r,e=>i.onThumbChange(e)),u=s.useRef(void 0),p=ea(()=>{u.current&&(u.current(),u.current=void 0)},100);return s.useEffect(()=>{let e=l.viewport;if(e){let r=()=>{if(p(),!u.current){let r=es(e,d);u.current=r,d()}};return d(),e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}},[l.viewport,p,d]),(0,n.jsx)(g.WV.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:(0,R.M)(e.onPointerDownCapture,e=>{let r=e.target.getBoundingClientRect(),t=e.clientX-r.left,n=e.clientY-r.top;i.onThumbPointerDown({x:t,y:n})}),onPointerUp:(0,R.M)(e.onPointerUp,i.onThumbPointerUp)})});Y.displayName=Z;var $="ScrollAreaCorner",J=s.forwardRef((e,r)=>{let t=D($,e.__scopeScrollArea),s=!!(t.scrollbarX&&t.scrollbarY);return"scroll"!==t.type&&s?(0,n.jsx)(K,{...e,ref:r}):null});J.displayName=$;var K=s.forwardRef((e,r)=>{let{__scopeScrollArea:t,...a}=e,o=D($,t),[l,i]=s.useState(0),[d,c]=s.useState(0),u=!!(l&&d);return eo(o.scrollbarX,()=>{let e=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(e),c(e)}),eo(o.scrollbarY,()=>{let e=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(e),i(e)}),u?(0,n.jsx)(g.WV.div,{...a,ref:r,style:{width:l,height:d,position:"absolute",right:"ltr"===o.dir?0:void 0,left:"rtl"===o.dir?0:void 0,bottom:0,...e.style}}):null});function Q(e){return e?parseInt(e,10):0}function ee(e,r){let t=e/r;return isNaN(t)?0:t}function er(e){let r=ee(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-t)*r,18)}function et(e,r,t="ltr"){let n=er(r),s=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,a=r.scrollbar.size-s,o=r.content-r.viewport,l=(0,E.u)(e,"ltr"===t?[0,o]:[-1*o,0]);return en([0,o],[0,a-n])(l)}function en(e,r){return t=>{if(e[0]===e[1]||r[0]===r[1])return r[0];let n=(r[1]-r[0])/(e[1]-e[0]);return r[0]+n*(t-e[0])}}var es=(e,r=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){let a={left:e.scrollLeft,top:e.scrollTop},o=t.left!==a.left,l=t.top!==a.top;(o||l)&&r(),t=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function ea(e,r){let t=(0,N.W)(e),n=s.useRef(0);return s.useEffect(()=>()=>window.clearTimeout(n.current),[]),s.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(t,r)},[t,r])}function eo(e,r){let t=(0,N.W)(r);(0,C.b)(()=>{let r=0;if(e){let n=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return n.observe(e),()=>{window.cancelAnimationFrame(r),n.unobserve(e)}}},[e,t])}var el=t(7863);let ei=s.forwardRef(({className:e,children:r,...t},s)=>(0,n.jsxs)(A,{ref:s,className:(0,el.cn)("relative overflow-hidden",e),...t,children:[n.jsx(z,{className:"h-full w-full rounded-[inherit]",children:r}),n.jsx(ed,{}),n.jsx(J,{})]}));ei.displayName=A.displayName;let ed=s.forwardRef(({className:e,orientation:r="vertical",...t},s)=>n.jsx(W,{ref:s,orientation:r,className:(0,el.cn)("flex touch-none select-none transition-colors","vertical"===r?"h-full w-2.5 border-l border-l-transparent p-[1px]":"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:n.jsx(Y,{className:"relative flex-1 rounded-full bg-border"})}));function ec({open:e,onOpenChange:r,user:t,onSuccess:o}){let[l,i]=(0,s.useState)(!1),[d,c]=(0,s.useState)([]),[u,p]=(0,s.useState)([]),h=e=>{p(r=>r.includes(e)?r.filter(r=>r!==e):[...r,e])},x=async e=>{e.preventDefault(),i(!0);try{let e=await fetch("/api/admin/folder-assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t.id,folderNames:u})});if(!e.ok){let r=await e.json();throw Error(r.error||"Failed to update folder assignments")}o(),r(!1)}catch(e){console.error("[v0] Error updating folder assignments:",e),alert(`Failed to update folder assignments: ${e instanceof Error?e.message:"Unknown error"}`)}finally{i(!1)}};return n.jsx(f.Vq,{open:e,onOpenChange:r,children:(0,n.jsxs)(f.cZ,{className:"max-w-md",children:[(0,n.jsxs)(f.fK,{children:[n.jsx(f.$N,{children:"Manage Folder Access"}),(0,n.jsxs)(f.Be,{children:["Select which folders ",t.email," can access"]})]}),(0,n.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[n.jsx(ei,{className:"h-[300px] rounded-md border p-4",children:n.jsx("div",{className:"space-y-3",children:d.length>0?d.map(e=>(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[n.jsx(v.X,{id:e,checked:u.includes(e),onCheckedChange:()=>h(e)}),(0,n.jsxs)(m._,{htmlFor:e,className:"cursor-pointer",children:["\uD83D\uDCC1 ",e]})]},e)):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No folders found"})})}),n.jsx("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:(0,n.jsxs)("span",{children:[u.length," folder(s) selected"]})}),(0,n.jsxs)("div",{className:"flex justify-end gap-2",children:[n.jsx(a.z,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsx(a.z,{type:"submit",disabled:l,children:l?"Saving...":"Save Changes"})]})]})]})})}function eu(){let[e,r]=(0,s.useState)([]),[t,f]=(0,s.useState)(!0),[h,m]=(0,s.useState)(null),[x,v]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),y=async()=>{try{let e=await fetch("/api/admin/users");if(!e.ok)throw Error("Failed to fetch users");let t=await e.json();r(t.users)}catch(e){console.error("[v0] Error fetching users:",e)}finally{f(!1)}},j=async e=>{if(confirm("Are you sure you want to delete this user?"))try{if(!(await fetch(`/api/admin/users/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete user");y()}catch(e){console.error("[v0] Error deleting user:",e),alert("Failed to delete user")}},N=e=>{m(e),b(!0)};return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Users"}),(0,n.jsxs)(a.z,{onClick:()=>v(!0),children:[n.jsx(d,{className:"mr-2 h-4 w-4"}),"Create User"]})]}),n.jsx("div",{className:"rounded-md border",children:(0,n.jsxs)(o.iA,{children:[n.jsx(o.xD,{children:(0,n.jsxs)(o.SC,{children:[n.jsx(o.ss,{children:"Email"}),n.jsx(o.ss,{children:"Role"}),n.jsx(o.ss,{children:"Created At"}),n.jsx(o.ss,{className:"w-[80px]",children:"Actions"})]})}),n.jsx(o.RM,{children:t?n.jsx(o.SC,{children:n.jsx(o.pj,{colSpan:4,className:"text-center text-muted-foreground",children:"Loading users..."})}):e.length>0?e.map(e=>(0,n.jsxs)(o.SC,{children:[n.jsx(o.pj,{className:"font-medium",children:e.email}),n.jsx(o.pj,{children:n.jsx(l.C,{variant:"admin"===e.role?"default":"secondary",children:e.role})}),n.jsx(o.pj,{children:new Date(e.created_at).toLocaleDateString()}),n.jsx(o.pj,{children:(0,n.jsxs)(i.h_,{children:[n.jsx(i.$F,{asChild:!0,children:n.jsx(a.z,{variant:"ghost",size:"icon",children:n.jsx(c.Z,{className:"h-4 w-4"})})}),(0,n.jsxs)(i.AW,{align:"end",children:[(0,n.jsxs)(i.Xi,{onClick:()=>N(e),children:[n.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Manage Folders"]}),(0,n.jsxs)(i.Xi,{onClick:()=>j(e.id),className:"text-red-600",children:[n.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id)):n.jsx(o.SC,{children:n.jsx(o.pj,{colSpan:4,className:"text-center text-muted-foreground",children:"No users found"})})})]})}),n.jsx(w,{open:x,onOpenChange:v,onSuccess:y}),h&&n.jsx(ec,{open:g,onOpenChange:b,user:h,onSuccess:y})]})}ed.displayName=W.displayName},8762:(e,r,t)=>{"use strict";t.d(r,{X:()=>E});var n=t(326),s=t(7577),a=t(8051),o=t(3095),l=t(2561),i=t(2067),d=t(3405),c=t(2566),u=t(9815),p=t(5226),f="Checkbox",[h,m]=(0,o.b)(f),[x,w]=h(f),v=s.forwardRef((e,r)=>{let{__scopeCheckbox:t,name:o,checked:d,defaultChecked:c,required:u,disabled:f,value:h="on",onCheckedChange:m,form:w,...v}=e,[g,b]=s.useState(null),S=(0,a.e)(r,e=>b(e)),C=s.useRef(!1),E=!g||w||!!g.closest("form"),[R=!1,P]=(0,i.T)({prop:d,defaultProp:c,onChange:m}),k=s.useRef(R);return s.useEffect(()=>{let e=g?.form;if(e){let r=()=>P(k.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[g,P]),(0,n.jsxs)(x,{scope:t,state:R,disabled:f,children:[(0,n.jsx)(p.WV.button,{type:"button",role:"checkbox","aria-checked":j(R)?"mixed":R,"aria-required":u,"data-state":N(R),"data-disabled":f?"":void 0,disabled:f,value:h,...v,ref:S,onKeyDown:(0,l.M)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,l.M)(e.onClick,e=>{P(e=>!!j(e)||!e),E&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),E&&(0,n.jsx)(y,{control:g,bubbles:!C.current,name:o,value:h,checked:R,required:u,disabled:f,form:w,style:{transform:"translateX(-100%)"},defaultChecked:!j(c)&&c})]})});v.displayName=f;var g="CheckboxIndicator",b=s.forwardRef((e,r)=>{let{__scopeCheckbox:t,forceMount:s,...a}=e,o=w(g,t);return(0,n.jsx)(u.z,{present:s||j(o.state)||!0===o.state,children:(0,n.jsx)(p.WV.span,{"data-state":N(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:r,style:{pointerEvents:"none",...e.style}})})});b.displayName=g;var y=e=>{let{control:r,checked:t,bubbles:a=!0,defaultChecked:o,...l}=e,i=s.useRef(null),u=(0,d.D)(t),p=(0,c.t)(r);s.useEffect(()=>{let e=i.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(u!==t&&r){let n=new Event("click",{bubbles:a});e.indeterminate=j(t),r.call(e,!j(t)&&t),e.dispatchEvent(n)}},[u,t,a]);let f=s.useRef(!j(t)&&t);return(0,n.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??f.current,...l,tabIndex:-1,ref:i,style:{...e.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function j(e){return"indeterminate"===e}function N(e){return j(e)?"indeterminate":e?"checked":"unchecked"}var S=t(2933),C=t(7863);let E=s.forwardRef(({className:e,...r},t)=>n.jsx(v,{ref:t,className:(0,C.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:n.jsx(b,{className:(0,C.cn)("flex items-center justify-center text-current"),children:n.jsx(S.Z,{className:"h-4 w-4"})})}));E.displayName=v.displayName},97:(e,r,t)=>{"use strict";t.d(r,{$F:()=>u,AW:()=>p,Xi:()=>f,h_:()=>c});var n=t(326),s=t(7577),a=t(269),o=t(9183),l=t(2933),i=t(3982),d=t(7863);let c=a.fC,u=a.xz;a.ZA,a.Uv,a.Tr,a.Ee,s.forwardRef(({className:e,inset:r,children:t,...s},l)=>(0,n.jsxs)(a.fF,{ref:l,className:(0,d.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",e),...s,children:[t,n.jsx(o.Z,{className:"ml-auto"})]})).displayName=a.fF.displayName,s.forwardRef(({className:e,...r},t)=>n.jsx(a.tu,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})).displayName=a.tu.displayName;let p=s.forwardRef(({className:e,sideOffset:r=4,...t},s)=>n.jsx(a.Uv,{children:n.jsx(a.VY,{ref:s,sideOffset:r,className:(0,d.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t})}));p.displayName=a.VY.displayName;let f=s.forwardRef(({className:e,inset:r,...t},s)=>n.jsx(a.ck,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",r&&"pl-8",e),...t}));f.displayName=a.ck.displayName,s.forwardRef(({className:e,children:r,checked:t,...s},o)=>(0,n.jsxs)(a.oC,{ref:o,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(a.wU,{children:n.jsx(l.Z,{className:"h-4 w-4"})})}),r]})).displayName=a.oC.displayName,s.forwardRef(({className:e,children:r,...t},s)=>(0,n.jsxs)(a.Rk,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(a.wU,{children:n.jsx(i.Z,{className:"h-2 w-2 fill-current"})})}),r]})).displayName=a.Rk.displayName,s.forwardRef(({className:e,inset:r,...t},s)=>n.jsx(a.__,{ref:s,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...t})).displayName=a.__.displayName,s.forwardRef(({className:e,...r},t)=>n.jsx(a.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...r})).displayName=a.Z0.displayName},4474:(e,r,t)=>{"use strict";t.d(r,{Bw:()=>p,Ph:()=>d,Ql:()=>f,i4:()=>u,ki:()=>c});var n=t(326),s=t(7577),a=t(3869),o=t(8393),l=t(2933),i=t(7863);let d=a.fC;a.ZA;let c=a.B4,u=s.forwardRef(({className:e,children:r,...t},s)=>(0,n.jsxs)(a.xz,{ref:s,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:[r,n.jsx(a.JO,{asChild:!0,children:n.jsx(o.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=a.xz.displayName;let p=s.forwardRef(({className:e,children:r,...t},s)=>n.jsx(a.h_,{children:n.jsx(a.VY,{ref:s,className:(0,i.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white text-gray-700 shadow-md animate-in fade-in-80",e),...t,children:n.jsx(a.l_,{className:"p-1",children:r})})}));p.displayName=a.VY.displayName;let f=s.forwardRef(({className:e,children:r,...t},s)=>(0,n.jsxs)(a.ck,{ref:s,className:(0,i.cn)("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-blue-500 focus:text-white",e),...t,children:[n.jsx(a.eT,{children:r}),n.jsx(a.wU,{className:"absolute right-2 flex items-center",children:n.jsx(l.Z,{className:"h-4 w-4"})})]}));f.displayName=a.ck.displayName},4605:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var n=t(9510),s=t(6569);let a=(0,t(8570).createProxy)(String.raw`C:\Users\HP\Documents\GitHub\GologinAutomation\gologin\components\admin\user-management-table.tsx#UserManagementTable`);var o=t(8585);async function l(){try{await (0,s.kF)()}catch{(0,o.redirect)("/dashboard")}return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Admin Panel"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage users and folder assignments"})]}),n.jsx(a,{})]})}},6569:(e,r,t)=>{"use strict";t.d(r,{GJ:()=>a,kF:()=>o});var n=t(9692);async function s(){let e=await (0,n.t)(),{data:{user:r}}=await e.auth.getUser();return r}async function a(){let e=await (0,n.t)(),r=await s();if(!r)return!1;console.log("[v0] Checking admin status for user:",r.email);let{data:t,error:a}=await e.from("users").select("role").eq("email",r.email).single();if(console.log("[v0] User data from database:",t),console.log("[v0] Query error:",a),a||!t)return console.log("[v0] No user data found or error occurred"),!1;let o="admin"===t.role;return console.log("[v0] Is admin:",o),o}async function o(){if(!await a())throw Error("Unauthorized: Admin access required")}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[8948,7462,936,6621,2325,4629,2099,6556,5232,2210,2450,8628,7129],()=>t(2226));module.exports=n})();